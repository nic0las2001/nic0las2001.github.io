{"version":3,"file":"misc.min.js","sources":["../../../_javascript/modules/components/category-collapse.js","../../../_javascript/modules/components/locale-datetime.js","../../../_javascript/modules/components/toc/toc-mobile.js","../../../_javascript/modules/components/toc/toc-desktop.js","../../../_javascript/modules/components/toc.js","../../../_javascript/modules/components/mermaid.js","../../../_javascript/modules/components/mode-toggle.js","../../../_javascript/modules/components/back-to-top.js","../../../_javascript/modules/components/tooltip-loader.js","../../../_javascript/modules/layouts/basic.js","../../../_javascript/modules/layouts/sidebar.js","../../../_javascript/modules/components/search-display.js","../../../_javascript/modules/layouts/topbar.js","../../../_javascript/misc.js"],"sourcesContent":["/**\n * Tab 'Categories' expand/close effect.\n */\n\nimport 'bootstrap/js/src/collapse.js';\n\nconst childPrefix = 'l_';\nconst parentPrefix = 'h_';\nconst children = document.getElementsByClassName('collapse');\n\nexport function categoryCollapse() {\n  [...children].forEach((elem) => {\n    const id = parentPrefix + elem.id.substring(childPrefix.length);\n    const parent = document.getElementById(id);\n\n    // collapse sub-categories\n    elem.addEventListener('hide.bs.collapse', () => {\n      if (parent) {\n        parent.querySelector('.far.fa-folder-open').className =\n          'far fa-folder fa-fw';\n        parent.querySelector('.fas.fa-angle-down').classList.add('rotate');\n        parent.classList.remove('hide-border-bottom');\n      }\n    });\n\n    // expand sub-categories\n    elem.addEventListener('show.bs.collapse', () => {\n      if (parent) {\n        parent.querySelector('.far.fa-folder').className =\n          'far fa-folder-open fa-fw';\n        parent.querySelector('.fas.fa-angle-down').classList.remove('rotate');\n        parent.classList.add('hide-border-bottom');\n      }\n    });\n  });\n}\n","/**\n * Update month/day to locale datetime\n *\n * Requirement: <https://github.com/iamkun/dayjs>\n */\n\n/* A tool for locale datetime */\nclass LocaleHelper {\n  static get attrTimestamp() {\n    return 'data-ts';\n  }\n\n  static get attrDateFormat() {\n    return 'data-df';\n  }\n\n  static get locale() {\n    return document.documentElement.getAttribute('lang').substring(0, 2);\n  }\n\n  static getTimestamp(elem) {\n    return Number(elem.getAttribute(this.attrTimestamp)); // unix timestamp\n  }\n\n  static getDateFormat(elem) {\n    return elem.getAttribute(this.attrDateFormat);\n  }\n}\n\nexport function initLocaleDatetime() {\n  dayjs.locale(LocaleHelper.locale);\n  dayjs.extend(window.dayjs_plugin_localizedFormat);\n\n  document\n    .querySelectorAll(`[${LocaleHelper.attrTimestamp}]`)\n    .forEach((elem) => {\n      const date = dayjs.unix(LocaleHelper.getTimestamp(elem));\n      const text = date.format(LocaleHelper.getDateFormat(elem));\n      elem.textContent = text;\n      elem.removeAttribute(LocaleHelper.attrTimestamp);\n      elem.removeAttribute(LocaleHelper.attrDateFormat);\n\n      // setup tooltips\n      if (\n        elem.hasAttribute('data-bs-toggle') &&\n        elem.getAttribute('data-bs-toggle') === 'tooltip'\n      ) {\n        // see: https://day.js.org/docs/en/display/format#list-of-localized-formats\n        const tooltipText = date.format('llll');\n        elem.setAttribute('data-bs-title', tooltipText);\n      }\n    });\n}\n","/**\n * TOC button, topbar and popup for mobile devices\n */\n\nconst $tocBar = document.getElementById('toc-bar');\nconst $soloTrigger = document.getElementById('toc-solo-trigger');\nconst $triggers = document.getElementsByClassName('toc-trigger');\nconst $popup = document.getElementById('toc-popup');\nconst $btnClose = document.getElementById('toc-popup-close');\n\nconst SCROLL_LOCK = 'overflow-hidden';\nconst CLOSING = 'closing';\n\nexport class TocMobile {\n  static #invisible = true;\n  static #barHeight = 16 * 3; // 3rem\n\n  static options = {\n    tocSelector: '#toc-popup-content',\n    contentSelector: '.content',\n    ignoreSelector: '[data-toc-skip]',\n    headingSelector: 'h2, h3, h4',\n    orderedList: false,\n    scrollSmooth: false,\n    collapseDepth: 4,\n    headingsOffset: this.#barHeight\n  };\n\n  static initBar() {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          $tocBar.classList.toggle('invisible', entry.isIntersecting);\n        });\n      },\n      { rootMargin: `-${this.#barHeight}px 0px 0px 0px` }\n    );\n\n    observer.observe($soloTrigger);\n    this.#invisible = false;\n  }\n\n  static listenAnchors() {\n    const $anchors = document.getElementsByClassName('toc-link');\n    [...$anchors].forEach((anchor) => {\n      anchor.onclick = () => this.hidePopup();\n    });\n  }\n\n  static refresh() {\n    if (this.#invisible) {\n      this.initComponents();\n    }\n    tocbot.refresh(this.options);\n    this.listenAnchors();\n  }\n\n  static get popupOpened() {\n    return $popup.open;\n  }\n\n  static showPopup() {\n    this.lockScroll(true);\n    $popup.showModal();\n    const activeItem = $popup.querySelector('li.is-active-li');\n    activeItem.scrollIntoView({ block: 'center' });\n  }\n\n  static hidePopup() {\n    $popup.toggleAttribute(CLOSING);\n\n    $popup.addEventListener(\n      'animationend',\n      () => {\n        $popup.toggleAttribute(CLOSING);\n        $popup.close();\n      },\n      { once: true }\n    );\n\n    this.lockScroll(false);\n  }\n\n  static lockScroll(enable) {\n    document.documentElement.classList.toggle(SCROLL_LOCK, enable);\n    document.body.classList.toggle(SCROLL_LOCK, enable);\n  }\n\n  static clickBackdrop(event) {\n    if ($popup.hasAttribute(CLOSING)) {\n      return;\n    }\n\n    const rect = event.target.getBoundingClientRect();\n    if (\n      event.clientX < rect.left ||\n      event.clientX > rect.right ||\n      event.clientY < rect.top ||\n      event.clientY > rect.bottom\n    ) {\n      this.hidePopup();\n    }\n  }\n\n  static initComponents() {\n    this.initBar();\n\n    [...$triggers].forEach((trigger) => {\n      trigger.onclick = () => this.showPopup();\n    });\n\n    $popup.onclick = (e) => this.clickBackdrop(e);\n    $btnClose.onclick = () => this.hidePopup();\n    $popup.oncancel = (e) => {\n      e.preventDefault();\n      this.hidePopup();\n    };\n  }\n\n  static init() {\n    tocbot.init(this.options);\n    this.listenAnchors();\n    this.initComponents();\n  }\n}\n","export class TocDesktop {\n  /* Tocbot options Ref: https://github.com/tscanlin/tocbot#usage */\n  static options = {\n    tocSelector: '#toc',\n    contentSelector: '.content',\n    ignoreSelector: '[data-toc-skip]',\n    headingSelector: 'h2, h3, h4',\n    orderedList: false,\n    scrollSmooth: false,\n    headingsOffset: 16 * 2 // 2rem\n  };\n\n  static refresh() {\n    tocbot.refresh(this.options);\n  }\n\n  static init() {\n    tocbot.init(this.options);\n  }\n}\n","import { TocMobile as mobile } from './toc/toc-mobile';\nimport { TocDesktop as desktop } from './toc/toc-desktop';\n\nconst desktopMode = matchMedia('(min-width: 1200px)');\n\nfunction refresh(e) {\n  if (e.matches) {\n    if (mobile.popupOpened) {\n      mobile.hidePopup();\n    }\n\n    desktop.refresh();\n  } else {\n    mobile.refresh();\n  }\n}\n\nfunction init() {\n  if (document.querySelector('main>article[data-toc=\"true\"]') === null) {\n    return;\n  }\n\n  // Avoid create multiple instances of Tocbot. Ref: <https://github.com/tscanlin/tocbot/issues/203>\n  if (desktopMode.matches) {\n    desktop.init();\n  } else {\n    mobile.init();\n  }\n\n  const $tocWrapper = document.getElementById('toc-wrapper');\n  $tocWrapper.classList.remove('invisible');\n\n  desktopMode.onchange = refresh;\n}\n\nexport { init as initToc };\n","/**\n * Mermaid-js loader\n */\n\nconst MERMAID = 'mermaid';\nconst themeMapper = Theme.getThemeMapper('default', 'dark');\n\nfunction refreshTheme(event) {\n  if (event.source === window && event.data && event.data.id === Theme.ID) {\n    // Re-render the SVG â€º <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344>\n    const mermaidList = document.getElementsByClassName(MERMAID);\n\n    [...mermaidList].forEach((elem) => {\n      const svgCode = elem.previousSibling.children.item(0).textContent;\n      elem.textContent = svgCode;\n      elem.removeAttribute('data-processed');\n    });\n\n    const newTheme = themeMapper[Theme.visualState];\n\n    mermaid.initialize({ theme: newTheme });\n    mermaid.init(null, `.${MERMAID}`);\n  }\n}\n\nfunction setNode(elem) {\n  const svgCode = elem.textContent;\n  const backup = elem.parentElement;\n  backup.classList.add('d-none');\n  // Create mermaid node\n  const mermaid = document.createElement('pre');\n  mermaid.classList.add(MERMAID);\n  const text = document.createTextNode(svgCode);\n  mermaid.appendChild(text);\n  backup.after(mermaid);\n}\n\nexport function loadMermaid() {\n  if (\n    typeof mermaid === 'undefined' ||\n    typeof mermaid.initialize !== 'function'\n  ) {\n    return;\n  }\n\n  const initTheme = themeMapper[Theme.visualState];\n\n  let mermaidConf = {\n    theme: initTheme\n  };\n\n  const basicList = document.getElementsByClassName('language-mermaid');\n  [...basicList].forEach(setNode);\n\n  mermaid.initialize(mermaidConf);\n\n  if (Theme.switchable) {\n    window.addEventListener('message', refreshTheme);\n  }\n}\n","/**\n * Add listener for theme mode toggle\n */\n\nconst $toggle = document.getElementById('mode-toggle');\n\nexport function modeWatcher() {\n  if (!$toggle) {\n    return;\n  }\n\n  $toggle.addEventListener('click', () => {\n    Theme.flip();\n  });\n}\n","/**\n * Reference: https://bootsnipp.com/snippets/featured/link-to-top-page\n */\n\nexport function back2top() {\n  const btn = document.getElementById('back-to-top');\n\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 50) {\n      btn.classList.add('show');\n    } else {\n      btn.classList.remove('show');\n    }\n  });\n\n  btn.addEventListener('click', () => {\n    window.scrollTo({ top: 0 });\n  });\n}\n","import Tooltip from 'bootstrap/js/src/tooltip';\n\nexport function loadTooptip() {\n  const tooltipTriggerList = document.querySelectorAll(\n    '[data-bs-toggle=\"tooltip\"]'\n  );\n\n  [...tooltipTriggerList].map(\n    (tooltipTriggerEl) => new Tooltip(tooltipTriggerEl)\n  );\n}\n","import { back2top, loadTooptip, modeWatcher } from '../components';\n\nexport function basic() {\n  modeWatcher();\n  back2top();\n  loadTooptip();\n}\n","const ATTR_DISPLAY = 'sidebar-display';\nconst $sidebar = document.getElementById('sidebar');\nconst $trigger = document.getElementById('sidebar-trigger');\nconst $mask = document.getElementById('mask');\n\nclass SidebarUtil {\n  static #isExpanded = false;\n\n  static toggle() {\n    this.#isExpanded = !this.#isExpanded;\n    document.body.toggleAttribute(ATTR_DISPLAY, this.#isExpanded);\n    $sidebar.classList.toggle('z-2', this.#isExpanded);\n    $mask.classList.toggle('d-none', !this.#isExpanded);\n  }\n}\n\nexport function initSidebar() {\n  $trigger.onclick = $mask.onclick = () => SidebarUtil.toggle();\n}\n","/**\n * This script make #search-result-wrapper switch to unload or shown automatically.\n */\n\nconst btnSbTrigger = document.getElementById('sidebar-trigger');\nconst btnSearchTrigger = document.getElementById('search-trigger');\nconst btnCancel = document.getElementById('search-cancel');\nconst content = document.querySelectorAll('#main-wrapper>.container>.row');\nconst topbarTitle = document.getElementById('topbar-title');\nconst search = document.getElementById('search');\nconst resultWrapper = document.getElementById('search-result-wrapper');\nconst results = document.getElementById('search-results');\nconst input = document.getElementById('search-input');\nconst hints = document.getElementById('search-hints');\n\n// CSS class names\nconst LOADED = 'd-block';\nconst UNLOADED = 'd-none';\nconst FOCUS = 'input-focus';\nconst FLEX = 'd-flex';\n\n/* Actions in mobile screens (Sidebar hidden) */\nclass MobileSearchBar {\n  static on() {\n    btnSbTrigger.classList.add(UNLOADED);\n    topbarTitle.classList.add(UNLOADED);\n    btnSearchTrigger.classList.add(UNLOADED);\n    search.classList.add(FLEX);\n    btnCancel.classList.add(LOADED);\n  }\n\n  static off() {\n    btnCancel.classList.remove(LOADED);\n    search.classList.remove(FLEX);\n    btnSbTrigger.classList.remove(UNLOADED);\n    topbarTitle.classList.remove(UNLOADED);\n    btnSearchTrigger.classList.remove(UNLOADED);\n  }\n}\n\nclass ResultSwitch {\n  static resultVisible = false;\n\n  static on() {\n    if (!this.resultVisible) {\n      resultWrapper.classList.remove(UNLOADED);\n      content.forEach((el) => {\n        el.classList.add(UNLOADED);\n      });\n      this.resultVisible = true;\n    }\n  }\n\n  static off() {\n    if (this.resultVisible) {\n      results.innerHTML = '';\n\n      if (hints.classList.contains(UNLOADED)) {\n        hints.classList.remove(UNLOADED);\n      }\n\n      resultWrapper.classList.add(UNLOADED);\n      content.forEach((el) => {\n        el.classList.remove(UNLOADED);\n      });\n      input.textContent = '';\n      this.resultVisible = false;\n    }\n  }\n}\n\nfunction isMobileView() {\n  return btnCancel.classList.contains(LOADED);\n}\n\nexport function displaySearch() {\n  btnSearchTrigger.addEventListener('click', () => {\n    MobileSearchBar.on();\n    ResultSwitch.on();\n    input.focus();\n  });\n\n  btnCancel.addEventListener('click', () => {\n    MobileSearchBar.off();\n    ResultSwitch.off();\n  });\n\n  input.addEventListener('focus', () => {\n    search.classList.add(FOCUS);\n  });\n\n  input.addEventListener('focusout', () => {\n    search.classList.remove(FOCUS);\n  });\n\n  input.addEventListener('input', () => {\n    if (input.value === '') {\n      if (isMobileView()) {\n        hints.classList.remove(UNLOADED);\n      } else {\n        ResultSwitch.off();\n      }\n    } else {\n      ResultSwitch.on();\n      if (isMobileView()) {\n        hints.classList.add(UNLOADED);\n      }\n    }\n  });\n}\n","import { displaySearch } from '../components/search-display';\n\nexport function initTopbar() {\n  displaySearch();\n}\n","import { basic, initSidebar, initTopbar } from './modules/layouts';\nimport { initLocaleDatetime } from './modules/components';\n\ninitSidebar();\ninitTopbar();\ninitLocaleDatetime();\nbasic();\n"],"names":["document","getElementsByClassName","LocaleHelper","_classCallCheck","_createClass","key","get","documentElement","getAttribute","substring","value","getTimestamp","elem","Number","attrTimestamp","getDateFormat","attrDateFormat","initLocaleDatetime","dayjs","locale","extend","window","dayjs_plugin_localizedFormat","querySelectorAll","concat","forEach","date","unix","text","format","textContent","removeAttribute","hasAttribute","tooltipText","setAttribute","$tocBar","getElementById","$soloTrigger","$triggers","$popup","$btnClose","SCROLL_LOCK","CLOSING","TocMobile","initBar","observer","IntersectionObserver","entries","entry","classList","toggle","isIntersecting","rootMargin","_assertClassBrand","_barHeight","_","observe","_invisible","listenAnchors","_this","$anchors","_toConsumableArray","anchor","onclick","hidePopup","refresh","initComponents","tocbot","options","open","showPopup","lockScroll","showModal","activeItem","querySelector","scrollIntoView","block","toggleAttribute","addEventListener","close","once","enable","body","clickBackdrop","event","rect","target","getBoundingClientRect","clientX","left","right","clientY","top","bottom","_this2","trigger","e","oncancel","preventDefault","init","_TocMobile","_defineProperty","tocSelector","contentSelector","ignoreSelector","headingSelector","orderedList","scrollSmooth","collapseDepth","headingsOffset","TocDesktop","matchMedia","Theme","getThemeMapper","$toggle","modeWatcher","flip","back2top","btn","scrollY","add","remove","scrollTo","loadTooptip","tooltipTriggerList","map","tooltipTriggerEl","Tooltip","basic","ATTR_DISPLAY","$sidebar","$trigger","$mask","SidebarUtil","_isExpanded","initSidebar","btnSbTrigger","btnSearchTrigger","btnCancel","content","topbarTitle","search","resultWrapper","results","input","hints","LOADED","UNLOADED","FOCUS","FLEX","MobileSearchBar","on","off","ResultSwitch","resultVisible","el","innerHTML","contains","isMobileView","displaySearch","focus","initTopbar"],"mappings":"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"}